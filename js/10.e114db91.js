(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"546f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticStyle:{padding:"1rem"},attrs:{id:"admin_new"}},[a("q-page",[a("q-table",{attrs:{data:e.contacts,columns:e.titles,"row-key":"name","rows-per-page-option":[5,7,10],filter:e.filter},scopedSlots:e._u([{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{key:"sender"},[a("p",[e._v(e._s(t.row.sender))])]),a("q-td",{key:"mail"},[a("p",[e._v(e._s(t.row.mail))])]),a("q-td",{key:"title"},[a("p",[e._v(e._s(t.row.title))])]),a("q-td",{key:"description"},[a("p",[e._v(e._s(t.row.description))])]),a("q-td",{key:"date"},[e._v("\n            "+e._s(new Date(t.row.date).toLocaleString())+"\n          ")]),a("q-td",{key:"actions"},[a("q-btn",{attrs:{round:"",icon:"delete_forever",color:"negative",size:"0.7rem"},on:{click:function(a){return e.del(t)}}})],1)],1)]}},{key:"top-left",fn:function(){return[a("h6",{staticClass:"adminTitle"},[e._v("聯絡我們-信件管理")])]},proxy:!0},{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"請輸入關鍵字"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0}])})],1)],1)},l=[],o=(a("a434"),{data(){return{filter:"",contacts:[],titles:[{name:"sender",required:!0,label:"寄件人",align:"left",field:"sender",format:e=>`${e}`,sortable:!0},{name:"mail",align:"left",label:"電子信箱",field:"mail",sortable:!0},{name:"title",align:"left",label:"主旨",field:"title",sortable:!0},{name:"description",align:"left",label:"想說的話",field:"description",sortable:!0},{name:"date",align:"left",label:"寄送時間",field:"date"},{name:"actions",label:"編輯",align:"left"}]}},methods:{del(e){this.axios.delete("https://petcle.herokuapp.com/contacts/"+e.row._id).then((t=>{t.data.success?(this.contacts.splice(e.rowIndex,1),alert("刪除成功")):alert(t.data.message)})).catch((e=>{console.log(e)}))}},mounted(){this.axios.get("https://petcle.herokuapp.com/contacts/").then((e=>{e.data.success?(console.log(e.data),this.contacts=e.data.result.map((e=>e))):alert("錯誤")})).catch((e=>{console.log(e)}))}}),r=o,s=a("2877"),i=a("9989"),c=a("eaac"),d=a("bd08"),p=a("db86"),f=a("9c40"),u=a("27f9"),m=a("0016"),b=a("eebe"),g=a.n(b),h=Object(s["a"])(r,n,l,!1,null,null,null);t["default"]=h.exports;g()(h,"components",{QPage:i["a"],QTable:c["a"],QTr:d["a"],QTd:p["a"],QBtn:f["a"],QInput:u["a"],QIcon:m["a"]})}}]);